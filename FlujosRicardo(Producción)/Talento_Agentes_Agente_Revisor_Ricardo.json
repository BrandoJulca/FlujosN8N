{
  "name": "Talento|Agentes|Agente Revisor|Ricardo",
  "nodes": [
    {
      "parameters": {},
      "id": "71da6a14-5fbb-4ccc-9945-6f825eb9375e",
      "name": "Execute Workflow Trigger",
      "type": "n8n-nodes-base.executeWorkflowTrigger",
      "position": [
        300,
        840
      ],
      "typeVersion": 1
    },
    {
      "parameters": {
        "options": {
          "includeInputFields": true
        }
      },
      "type": "n8n-nodes-base.dateTime",
      "typeVersion": 2,
      "position": [
        520,
        840
      ],
      "id": "d7654d8e-e5c9-4be8-9866-ae337188a9e7",
      "name": "Date & Time1"
    },
    {
      "parameters": {
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.lmChatOpenAi",
      "typeVersion": 1.1,
      "position": [
        700,
        680
      ],
      "id": "80a16814-ac9a-4f3a-b6ff-12d3be3dd98d",
      "name": "OpenAI Chat Model",
      "credentials": {
        "openAiApi": {
          "id": "PeunFWePZcSKKmbB",
          "name": "OpenAi account"
        }
      }
    },
    {
      "parameters": {
        "sessionIdType": "customKey",
        "sessionKey": "={{ $('Date & Time1').item.json.query.sessionId }}"
      },
      "type": "@n8n/n8n-nodes-langchain.memoryRedisChat",
      "typeVersion": 1.4,
      "position": [
        880,
        680
      ],
      "id": "64abd7b3-9dcc-4053-a6aa-dd8a01960977",
      "name": "Redis Chat Memory",
      "credentials": {
        "redis": {
          "id": "FuTe9qrxkR9cRWmA",
          "name": "Automation Redis"
        }
      }
    },
    {
      "parameters": {
        "promptType": "define",
        "text": "={{ $json.toJsonString() }}",
        "options": {
          "systemMessage": "=Aqu√≠ tienes un prompt mejorado para el Agente Talento que incluye instrucciones espec√≠ficas para la revisi√≥n y enriquecimiento de mensajes con un estilo de WhatsApp:\n\n# PROMPT DE AGENTE REVISOR TALENTO (ONBOTGO)\n\n## OBJETIVO PRINCIPAL\nEres Talento, el Agente de Revisi√≥n y Mejora de Mensajes para Onbotgo. Tu misi√≥n es transformar mensajes de reclutamiento en experiencias de comunicaci√≥n memorables, aplicando mejoras editoriales y asegurando la m√°xima calidad de interacci√≥n.\n\n## INSTRUCCIONES DE PROCESAMIENTO\n\n### 1. EVALUACI√ìN INICIAL\n- Analizar el mensaje de entrada en profundidad\n- Verificar contexto de la conversaci√≥n\n- Identificar la etapa actual del proceso de reclutamiento\n\n### 2. CRITERIOS DE MEJORA\n#### Transformaci√≥n Editorial\n- Elevar la calidad del mensaje en al menos un 30%\n- Inyectar elementos de marca de Onbotgo\n- Aplicar t√©cnica de \"3 Capas\":\n  1. Base: Cumplimiento de est√°ndares\n  2. Mejora: Optimizaci√≥n del flujo conversacional\n  3. Brillantez: Toque distintivo de marca\n\n#### Formato WhatsApp\n- Adaptar el mensaje para comunicaci√≥n m√≥vil\n- Usar emojis estrat√©gicamente (m√°ximo 2 por mensaje)\n- Aplicar estilo de mensajer√≠a instant√°nea\n- Mantener tono profesional con calidez\n\n### 3. REGLAS DE TRANSFORMACI√ìN\n#### SIEMPRE\n- Mantener coherencia con el contexto inicial\n- Enriquecer el mensaje sin distorsionar su sentido original\n- Usar lenguaje cercano y profesional\n- Insertar un elemento diferenciador en cada interacci√≥n\n- Guiar sutilmente hacia el siguiente paso del proceso\n\n#### NUNCA\n- Perder el tono profesional\n- Exceder el l√≠mite de 2 emojis\n- Incluir informaci√≥n sensible\n- Desviarse del objetivo de reclutamiento\n- Usar lenguaje gen√©rico o poco personalizado\n\n### 4. M√âTODO DE PROCESAMIENTO AEIOU+\n- **A**lternativas: Ofrecer opciones claras\n- **E**xpl√≠cito: Comunicaci√≥n transparente\n- **I**nmediato: Respuesta oportuna\n- **O**bjetivo: Enfoque en metas\n- **U**til: Aportar valor\n- **+** Diferenciaci√≥n de marca\n\n### 5. SALIDA REQUERIDA\nDevolver un JSON con:\n```json\n{\n  \"mensaje_transformado\": \"Mensaje enriquecido en estilo WhatsApp\",\n  \"emojis_usados\": [\"emoji1\", \"emoji2\"],\n  \"nivel_mejora\": \"porcentaje de mejora\",\n  \"elementos_marca\": [\"elemento1\", \"elemento2\"],\n  \"siguiente_accion_sugerida\": \"Acci√≥n de seguimiento\"\n}\n```\n\n### 6. EJEMPLO DE TRANSFORMACI√ìN\n#### Entrada\n```\nTengo una duda sobre el proceso de selecci√≥n\n```\n\n#### Salida Esperada\n```\n¬°Hola! üëã Estamos aqu√≠ para ayudarte en cada paso de tu proceso con Onbotgo. üöÄ \n\nSobre tu duda del proceso de selecci√≥n, ¬øpodr√≠as compartirme m√°s detalles? Estoy listo para guiarte y resolver cualquier consulta que tengas. \n\n¬øEn qu√© etapa del proceso te encuentras actualmente? üí°\n```\n\n## CONSIDERACIONES FINALES\n- Priorizar la experiencia del candidato\n- Convertir cada interacci√≥n en una oportunidad de conexi√≥n\n- Reflejar los valores de Onbotgo: excelencia, innovaci√≥n y enfoque humano\n\n## INSTRUCCI√ìN DE EJECUCI√ìN\nProcesa el siguiente mensaje aplicando todas las directrices anteriores y devuelve el mensaje transformado listo para enviar. Formatea los mensajes usando sintaxis whatsapp."
        }
      },
      "type": "@n8n/n8n-nodes-langchain.agent",
      "typeVersion": 1.7,
      "position": [
        720,
        840
      ],
      "id": "1edd2cda-4e03-4c0e-842e-bcbb33632989",
      "name": "Revisor"
    },
    {
      "parameters": {
        "assignments": {
          "assignments": [
            {
              "id": "5ec785c5-3d60-4bb4-8522-2ec72a931db0",
              "name": "response",
              "value": "={{ $json.output }}",
              "type": "string"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.set",
      "typeVersion": 3.4,
      "position": [
        1100,
        840
      ],
      "id": "d4761769-de58-4c06-8a16-95a9647d1c61",
      "name": "Edit Fields"
    }
  ],
  "pinData": {
    "Execute Workflow Trigger": [
      {
        "json": {
          "query": {
            "sessionId": "51925797402@s.whatsapp.net",
            "task_id": "1ikkf0j50jr09ejb49s81j0770m68bo",
            "message": "He encontrado algunas oportunidades en Per√∫:\n\n1. üöÄ **Gestor de Cobranza Telef√≥nica** - Cobranding  \n   üìç Lima, Per√∫  \n   üìã Descripci√≥n: Responsable de contactar clientes morosos, establecer acuerdos de pago y dar seguimiento a compromisos para reducir cartera vencida.  \n   ‚úÖ Requisitos: Servicio al Cliente, Cobranza Telef√≥nica, SAP, Comunicaci√≥n Efectiva\n\n2. üíº **Supervisor de Cobranza** - Cobranding  \n   üìç Lima, Per√∫  \n   üìã Descripci√≥n: Supervisi√≥n de equipo de 15 ejecutivos, monitoreo de KPIs, coaching y retroalimentaci√≥n para mejora continua.  \n   ‚úÖ Requisitos: Liderazgo, KPI Management, Coaching, An√°lisis de Datos\n\n3. üåü **Ejecutivo de Recuperaci√≥n de Cartera** - Cobranding  \n   üìç Lima, Per√∫  \n   üìã Descripci√≥n: Gesti√≥n de cartera temprana y preventiva, contacto con clientes para prevenir morosidad y negociar pagos.  \n   ‚úÖ Requisitos: Cobranza Preventiva, Avaya, Office 365, Negociaci√≥n\n\n¬øCu√°l te gustar√≠a conocer m√°s? Puedes indicarme el n√∫mero o el nombre de la posici√≥n.",
            "agent_type": "reviewer",
            "context": {
              "current_stage": "review",
              "last_interaction": "2025-02-21T09:36:31Z"
            }
          }
        }
      }
    ]
  },
  "connections": {
    "Execute Workflow Trigger": {
      "main": [
        [
          {
            "node": "Date & Time1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Date & Time1": {
      "main": [
        [
          {
            "node": "Revisor",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "OpenAI Chat Model": {
      "ai_languageModel": [
        [
          {
            "node": "Revisor",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    },
    "Redis Chat Memory": {
      "ai_memory": [
        [
          {
            "node": "Revisor",
            "type": "ai_memory",
            "index": 0
          }
        ]
      ]
    },
    "Revisor": {
      "main": [
        [
          {
            "node": "Edit Fields",
            "type": "main",
            "index": 0
          }
        ]
      ]
    }
  },
  "active": false,
  "settings": {
    "executionOrder": "v1",
    "timezone": "America/Lima",
    "callerPolicy": "workflowsFromSameOwner"
  },
  "versionId": "d2958f59-0f8c-44be-98da-bc4e7654d67f",
  "meta": {
    "instanceId": "1dae253b8ed4fa2ae6cc1a1b54e20169a0e4eef838c1eca58506dcd1699582a0"
  },
  "id": "Ubvj7VjVRCV3pCQx",
  "tags": []
}